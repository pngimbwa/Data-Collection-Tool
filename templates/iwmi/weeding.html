{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}
    <title>Weeding</title>
{% endblock %}

{% block main_section %}

  <script>
  $(function() {
    $( "#id_date" ).datepicker();
  });
  </script>
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    
<!--<div class="col-sm-10 col-sm-offset-1 col-sm-offset-1 col-md-10 col-md-offset-1 col-md-offset-1 col-lg-10 col-lg-offset-1 col-lg-offset-1 container-fluid">
-->
    <form class="well form-horizontal" action=" " method="post"  id="weedform">{% csrf_token %} 

<!-- Form Name -->
<fieldset>
<legend>Weeding..</legend>

<div class="form-group"> 
    {{ weedingform.date.errors }}
    <label for="date" class="col-md-4 control-label">Date:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.date }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.farm.errors }}
    <label for="farm" class="col-md-4 control-label">Farm:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.farm }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.crop.errors }}
    <label for="crop" class="col-md-4 control-label">Crop:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.crop }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.weed_activities.errors }}
    <label for="weed_activities" class="col-md-4 control-label">Activity:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.weed_activities }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.time.errors }}
    <label for="time" class="col-md-4 control-label">Time taken:</label>
        <div class="col-md-4 selectContainer">
          <div class="input-group">
              {{ weedingform.time }}<span class="input-group-addon">min(s)</span>
          </div>
    </div>
</div>

<div class="form-group"> 
    {{ weedingform.payment.errors }}
    <label for="payment" class="col-md-4 control-label">Payment:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.payment }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.labour.errors }}
    <label for="labour" class="col-md-4 control-label">Labour:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.labour }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.hired_female_number.errors }}
    <label for="hired_female_number" class="col-md-4 control-label">Numbe of hired female:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.hired_female_number }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.hired_male_number.errors }}
    <label for="hired_male_number" class="col-md-4 control-label">Numbe of hired male:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.hired_male_number }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.family_female_number.errors }}
    <label for="family_female_number" class="col-md-4 control-label">Number of family hired female:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.family_female_number }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.family_male_number.errors }}
    <label for="family_male_number" class="col-md-4 control-label">Number of family hired male:</label>
        <div class="col-md-4 selectContainer">
        {{ weedingform.family_male_number }}
        </div>
</div>

<div class="form-group"> 
    {{ weedingform.wage.errors }}
    <label for="wage" class="col-md-4 control-label">Daily wage:</label>
        <div class="col-md-4 selectContainer">
          <div class="input-group">
             {{ weedingform.wage}}<span class="input-group-addon">{{ weedingform.currency }}</span>
            </div>            
        </div>
</div>

</fieldset>

<!-- Success message -->
<div class="alert alert-success" role="alert" id="success_message">Success <i class="glyphicon glyphicon-thumbs-up"></i> Thanks for contacting us, we will get back to you shortly.</div>

<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4">
    <button type="submit" class="btn btn-default" >Submit</button>
  </div>
</div>
</form>
    
   <!-- </div>-- /.container -->
    </div>
</article>
{% endblock %}

{% block extended_javascripts_code %}
	<script>
    $(document).ready(function () {
    $('#weedform').bootstrapValidator({
        feedbackIcons: {
            //valid: 'glyphicon glyphicon-ok',
            //invalid: 'glyphicon glyphicon-remove',
            validating: 'glyphicon glyphicon-refresh'
        },
        fields: {
            date: {
                validators: {
                    notEmpty: {
                        message: 'Please choose date' }
                        }
                    },
                    
            farm: {
                validators: {
                    notEmpty: {
                        message: 'Please select farm' }
                        }
                    },
            weed_activities: {
                validators: {
                    notEmpty: {
                        message: 'Please type the performed activity' }
                        }
                    },
            crop: {
                validators: {
                    notEmpty: {
                        message: 'Please select crop' }
                        }
                    },
                    
            time: {
                validators: {
                    notEmpty: {
                        message: 'Please fill time' }
                        }
                    },
            payment: {
                validators:{
                        notEmpty:{
                                message:'Please fill the payment' }
                }
            },
            labour: {
                validators: {
                    notEmpty: {
                        message: 'Please choose labour' }
                        }
                    },
            hired_female_number: {
                validators:{
                        notEmpty:{
                                message:'Please fill number of hired female' }
                }
            },
            hired_male_number: {
                validators:{
                        notEmpty:{
                                message:'Please fill number of hired male' }
                }
            },
            family_female_number: {
                validators:{
                        notEmpty:{
                                message:'Please fill number of hired family female member' }
                }
            },
             family_male_number: {
                validators:{
                        notEmpty:{
                                message:'Please fill number of hired family male member' }
                }
            },
        }
    }).on('success.form.bv', function (e) {
        $('#success_message').slideDown({ opacity: 'show' }, 'slow');
        $('#fuelconsumption_form').data('bootstrapValidator').resetForm();
        e.preventDefault();
        var $form = $(e.target);
        var bv = $form.data('bootstrapValidator');
        $.post($form.attr('action'), $form.serialize(), function (result) {
            console.log(result);
        }, 'json');
    });
});
      //# sourceURL=pen.js

    </script>
    <script>
            if (document.location.search.match(/type=embed/gi)) {
                window.parent.postMessage("resize", "*");
                }
    </script>
<script>
    
    $(window).load(function()
                {
                 $('#weeding_activity_hiddendiv').hide();   
                });
    
    $('#weeding_activity').change(function()
                        {
        if ($('#weeding_activity option:selected').text()=='Other, please specify') {
            $('#weeding_activity_hiddendiv').show();
        }
        else{
            $('#weeding_activity_hiddendiv').hide();  
        }
        });
    
        //$("#weeding_activity_othertextbox").change(function()
               // {
                 //               $("#weeding_activity").val($("#weeding_activity_othertextbox").text());
                //});
</script>
<script>
    $(document).ready(function() {
            $("#id_labour").change(function() {
              value=0;
                if ($(this).val() == '') {
                    $("#id_hired_female_number").attr('readonly', true);
                    $("#id_hired_female_number").val(value);
                    $("#id_hired_male_number").attr('readonly', true);
                    $("#id_hired_male_number").val(value);
                    $("#id_family_female_number").attr('readonly', true);
                    $("#id_family_female_number").vval(value);
                    $("#id_family_male_number").attr('readonly', true);
                    $("#id_family_male_number").val(value);
                }
                else if ($(this).val() == 'Family')  {
                    $("#id_family_female_number").attr('readonly', false);
                    $("#id_family_male_number").attr('readonly', false); 
                    $("#id_hired_female_number").attr('readonly', true);
                    $("#id_hired_female_number").val(value);
                    $("#id_hired_male_number").attr('readonly', true);
                    $("#id_hired_male_number").val(value);                    
                }
                else if ($(this).val() == 'Hired')  {
                    $("#id_family_female_number").attr('readonly', true);
                    $("#id_family_female_number").val(value);
                    $("#id_family_male_number").attr('readonly', true);
                    $("#id_family_male_number").val(value);
                    $("#id_hired_female_number").attr('readonly', false);
                    $("#id_hired_male_number").attr('readonly', false);
                }
                else{
                    $("#id_family_female_number").attr('readonly', false);
                    $("#id_family_male_number").attr('readonly', false); 
                    $("#id_hired_female_number").attr('readonly', false);
                    $("#id_hired_male_number").attr('readonly', false);
                }
            });
    });
</script>
{% endblock %}